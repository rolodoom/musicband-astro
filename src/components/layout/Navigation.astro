---
// Import JSON data
import navigationData from "@/data/navigation.json";
import bandData from "@/data/band.json";
import { Icon } from "astro-icon/components";

const { navItems } = navigationData;
const { bandName } = bandData;
---

<nav
  class="fixed top-0 right-0 left-0 z-50 bg-transparent transition-all duration-300"
  id="mainNav"
>
  <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
    <div
      class="flex h-20 items-center justify-between transition-all duration-300"
      id="navContainer"
    >
      <!-- Logo -->
      <a href="#top" class="transition-all duration-300">
        <img
          src="/images/navbar-logo.svg"
          alt={bandName}
          id="logoImg"
          class="h-8 transition-all duration-300"
        />
      </a>

      <!-- Desktop Navigation -->
      <div class="hidden md:flex md:space-x-8">
        {
          navItems.map((item) => (
            <a
              href={item.url}
              class="nav-link font-heading hover:text-primary text-md px-3 py-2 font-bold tracking-wider text-gray-300 uppercase transition-colors duration-300"
              data-section={item.url.substring(1)}
            >
              {item.label}
            </a>
          ))
        }
      </div>

      <!-- Mobile menu button -->
      <button
        id="menuBtn"
        class="relative rounded p-2 text-white hover:bg-white/10 md:hidden"
        aria-label="Toggle menu"
      >
        <!-- Hamburger -->
        <Icon name="fa7-solid:bars" size={24} id="menuIcon" />
      </button>
    </div>
  </div>
</nav>

<!-- Mobile Navigation Overlay -->
<div
  id="mobileMenu"
  class="fixed inset-0 z-50 hidden bg-black/60 backdrop-blur-sm"
>
  <div class="absolute top-4 right-4">
    <button
      id="mobileCloseBtn"
      class="rounded p-2 text-white hover:bg-white/10"
      aria-label="Close menu"
    >
      <Icon
        name="fa7-solid:xmark"
        size={24}
        class="transition-opacity duration-300"
      />
    </button>
  </div>
  <div class="flex h-full flex-col items-center justify-center space-y-6">
    {
      navItems.map((item) => (
        <a
          href={item.url}
          class="mobile-nav-link font-heading hover:text-primary border-b border-white/10 px-3 py-4 text-lg font-bold tracking-wider text-white uppercase transition-colors duration-300"
          data-section={item.url.substring(1)}
        >
          {item.label}
        </a>
      ))
    }
  </div>
</div>
