---
import musiciansData from "@/data/musicians.json";

import Section from "@/components/shared/Section.astro";
import MusicianItem from "@/components/shared/MusicianItem.astro";
import MusicianModal from "@/components/shared/MusicianModal.astro";

const { id, title, subtitle, description, musicians } = musiciansData;

const xlWidth = musicians.length > 3 ? "xl:w-1/4" : "xl:w-1/3";
---

<Section title={title} subtitle={subtitle} id={id} darkmode>
  <div class="container mx-auto flex w-full max-w-7xl flex-wrap justify-center">
    {
      musicians.map((musician, index: number) => (
        <div class={`mb-4 w-full px-6 sm:w-1/2 sm:px-3 lg:w-1/3 ${xlWidth}`}>
          <MusicianItem musician={musician} index={index} />
        </div>
      ))
    }
    {
      description !== "" && (
        <div
          class="mx-auto max-w-3xl pt-16 text-xl font-light"
          data-aos="fade-down"
        >
          {description}
        </div>
      )
    }
  </div>

  {musicians.map((musician) => <MusicianModal musician={musician} />)}
</Section>
