---
import Section from "@components/shared/Section.astro";
import VideoItem from "@components/shared/VideoItem.astro";
import videosData from "@data/videos.json";
import { getLatestItem, getSortedItemsWithoutLatest } from "@utils/filter";

const { id, title, subtitle, videos } = videosData;
const latestVideo = getLatestItem(videos);
const sortedVideos = getSortedItemsWithoutLatest(videos);
---

<Section title={title} subtitle={subtitle} id={id} bgColor="bg-slate-100">
  <div class="mx-auto max-w-5xl px-3 md:pb-4 lg:pb-6 xl:pb-12">
    <VideoItem video={latestVideo} />
  </div>
  <div class="container mx-auto flex flex-wrap justify-center">
    {
      sortedVideos.map((video, index: number) => (
        <div class="mb-4 w-full px-3 sm:w-1/2 xl:w-1/3 2xl:w-1/4">
          <VideoItem video={video} index={index} />
        </div>
      ))
    }
  </div>
</Section>
